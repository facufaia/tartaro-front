(()=>{var e={};e.id=351,e.ids=[351],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1764:e=>{"use strict";e.exports=require("util")},84:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(6584),s(7284),s(640),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6584)),"C:\\Users\\Faia Facundo\\Desktop\\Programacion\\ad-astra\\tartaro\\front_web\\src\\app\\products\\[id]\\page.js"]}]},{}]},{loading:[()=>Promise.resolve().then(s.bind(s,7284)),"C:\\Users\\Faia Facundo\\Desktop\\Programacion\\ad-astra\\tartaro\\front_web\\src\\app\\products\\loading.js"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,640)),"C:\\Users\\Faia Facundo\\Desktop\\Programacion\\ad-astra\\tartaro\\front_web\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Faia Facundo\\Desktop\\Programacion\\ad-astra\\tartaro\\front_web\\src\\app\\products\\[id]\\page.js"],u="/products/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/products/[id]/page",pathname:"/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},963:(e,t,s)=>{Promise.resolve().then(s.bind(s,7188)),Promise.resolve().then(s.bind(s,5844))},5303:()=>{},594:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(326),r=s(3964),n=s(2844);let i={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function o(e={}){let t,s,a,r;let n=null,l=0,c=!1,d=!1,u=!1,p=!1;function m(){a||(c||s.emit("autoplay:play"),function(){let{ownerWindow:e}=s.internalEngine();e.clearTimeout(l),l=e.setTimeout(y,r[s.selectedScrollSnap()]),n=new Date().getTime(),s.emit("autoplay:timerset")}(),c=!0)}function x(){a||(c&&s.emit("autoplay:stop"),function(){let{ownerWindow:e}=s.internalEngine();e.clearTimeout(l),l=0,n=null,s.emit("autoplay:timerstopped")}(),c=!1)}function h(){if(f())return u=c,x();u&&m()}function f(){let{ownerDocument:e}=s.internalEngine();return"hidden"===e.visibilityState}function g(){d||x()}function j(){d||m()}function v(){d=!0,x()}function b(){d=!1,m()}function y(){let{index:e}=s.internalEngine(),a=e.clone().add(1).get(),r=s.scrollSnapList().length-1,n=t.stopOnLastSnap&&a===r;if(s.canScrollNext()?s.scrollNext(p):s.scrollTo(0,p),s.emit("autoplay:select"),n)return x();m()}return{name:"autoplay",options:e,init:function(n,l){s=n;let{mergeOptions:c,optionsAtMedia:d}=l,u=c(i,o.globalOptions);if(t=d(c(u,e)),s.scrollSnapList().length<=1)return;p=t.jump,a=!1,r=function(e,t){let s=e.scrollSnapList();return"number"==typeof t?s.map(()=>t):t(s,e)}(s,t.delay);let{eventStore:y,ownerDocument:N}=s.internalEngine(),w=!!s.internalEngine().options.watchDrag,P=function(e,t){let s=e.rootNode();return t&&t(s)||s}(s,t.rootNode);y.add(N,"visibilitychange",h),w&&s.on("pointerDown",g),w&&!t.stopOnInteraction&&s.on("pointerUp",j),t.stopOnMouseEnter&&y.add(P,"mouseenter",v),t.stopOnMouseEnter&&!t.stopOnInteraction&&y.add(P,"mouseleave",b),t.stopOnFocusIn&&s.on("slideFocusStart",x),t.stopOnFocusIn&&!t.stopOnInteraction&&y.add(s.containerNode(),"focusout",m),t.playOnInit&&!f()&&m()},destroy:function(){s.off("pointerDown",g).off("pointerUp",j).off("slideFocusStart",x),x(),a=!0,c=!1},play:function(e){void 0!==e&&(p=e),m()},stop:function(){c&&x()},reset:function(){c&&m()},isPlaying:function(){return c},timeUntilNext:function(){return n?r[s.selectedScrollSnap()]-(new Date().getTime()-n):null}}}function l({products:e}){return a.jsx("div",{className:"relative",children:(0,a.jsxs)(r.lr,{className:"w-full",opts:{align:"start",loop:!0},plugins:[o({delay:2e3})],children:[a.jsx(r.KI,{className:"-ml-2 md:-ml-4",children:e&&e.map(e=>a.jsx(r.d$,{className:"pl-2 md:pl-4 lg:pl-6 md:basis-1/3 lg:basis-1/4",children:a.jsx(n.Z,{product:e})},e.id))}),a.jsx(r.am,{className:"left-4"}),a.jsx(r.Pz,{className:"right-4"})]})})}o.globalOptions=void 0},7188:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var a=s(326),r=s(594);function n({relatedProducts:e}){return 0===e.length?null:(0,a.jsxs)("section",{className:"py-12 px-6 md:px-0",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Related Products"}),a.jsx("div",{className:"container mx-auto flex flex-col gap-10",children:a.jsx(r.default,{products:e})})]})}},5844:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var a=s(326),r=s(7577),n=s(3964),i=s(7030);function o({images:e,stock:t}){let[s,o]=(0,r.useState)(null);return(0,a.jsxs)("div",{className:"h-[60svh] relative",children:[(0,a.jsxs)(n.lr,{className:"w-full h-[65svh]",setApi:o,children:[a.jsx(n.KI,{children:e.map((e,t)=>a.jsx(n.d$,{children:a.jsx("img",{src:`http://localhost:1337${e.url}`,alt:`Product View ${t+1}`,className:"w-full h-[65svh] object-cover"})},t))}),e.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.am,{className:"h-8 w-8 left-2"}),a.jsx(n.Pz,{className:"h-8 w-8 right-2"})]})]}),a.jsx(i.C,{variant:t?"default":"destructive",className:"absolute left-2 top-2 z-10",children:t?"In Stock":"Sold Out"})]})}var l=s(4736),c=s(3339);function d({colors:e,selectedColor:t,onColorSelect:s,stock:r}){return(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Colors"}),a.jsx("div",{className:"flex gap-2",children:a.jsx(c.pn,{children:e.map((e,n)=>(0,a.jsxs)(c.u,{children:[a.jsx(c.aJ,{asChild:!0,children:a.jsx("button",{onClick:()=>r&&s(e,n),className:`w-8 h-8 rounded-full border-2 
                      ${t===e?"border-primary":"border-transparent"}
                      ${!r&&"opacity-30 cursor-not-allowed"}`,style:{backgroundColor:(0,l.g)(e)},disabled:!r,title:e})}),!r&&a.jsx(c._v,{children:a.jsx("p",{children:"Not available in this color"})})]},e))})})]})}function u({sizes:e,selectedSize:t,onSizeSelect:s,stock:r}){return(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Size"}),a.jsx("div",{className:"flex gap-2",children:a.jsx(c.pn,{children:e.map(e=>(0,a.jsxs)(c.u,{children:[a.jsx(c.aJ,{asChild:!0,children:a.jsx("button",{onClick:()=>r&&s(e),className:`w-10 h-10 rounded-md border 
                      ${t===e?"border-primary bg-primary text-foreground":"border-gray-200"}
                      ${!r&&"bg-transparent border-foreground opacity-30 cursor-not-allowed"}`,disabled:!r,children:e.toUpperCase()})}),!r&&a.jsx(c._v,{children:a.jsx("p",{children:"Not available in this size"})})]},e))})})]})}var p=s(1561),m=s(7671),x=s(6418),h=s(5047);function f({price:e,stock:t,onAddToCart:s}){let r=(0,x.x)(e=>e.clearCart),n=(0,h.useRouter)();return(0,a.jsxs)("div",{className:"w-full md:flex md:flex-col space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("span",{className:"text-2xl font-semibold",children:["$",e.toFixed(2)]})}),(0,a.jsxs)("div",{className:"flex gap-6",children:[a.jsx(p.z,{size:"lg",className:"w-full",onClick:()=>{r(),s(),n.push("/checkout")},disabled:!t,children:"Buy Now"}),a.jsx(p.z,{size:"lg",className:"w-full flex-1",disabled:!t,onClick:s,children:a.jsx(m.Z,{})})]})]})}var g=s(4337);function j({product:e}){let t=(0,x.x)(e=>e.addToCart),[s,n]=(0,r.useState)(e?.colors[0]),[i,c]=(0,r.useState)("m"),[p,m]=(0,r.useState)(null),{toast:h}=(0,g.pm)();return a.jsx("section",{className:"min-h-[70svh] py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx(o,{images:e.images,stock:e.stock}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-around h-[65svh] px-6 md:px-0",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold mb-2",children:(0,l.f)(e.name)}),a.jsx("p",{className:"text-lg text-gray-600 md:mb-4",children:(0,l.f)(e.category.name)})]}),(0,a.jsxs)("div",{className:"space-y-6 w-full",children:[a.jsx(d,{colors:e.colors,selectedColor:s,onColorSelect:(e,t)=>{n(e),p?.scrollTo(t)},stock:e.stock}),a.jsx(u,{sizes:e.sizes,selectedSize:i,onSizeSelect:c,stock:e.stock})]}),a.jsx(f,{price:e.price,stock:e.stock,onAddToCart:()=>{t({id:e.id,name:e.name,price:e.price,color:s,size:i,image:e.images[0],quantity:1}),h({title:"Added to cart",description:`${e.name.toUpperCase()} - ${s}, Size ${i}`,duration:3e3})}})]})]})})}},6418:(e,t,s)=>{"use strict";s.d(t,{x:()=>n});var a=s(8408),r=s(5251);let n=(0,a.U)((0,r.tJ)((e,t)=>({items:[],total:0,discount:0,subtotal:0,setDiscount:s=>{e({discount:s}),e({total:t().subtotal*s})},clearDiscount:()=>e({discount:0}),calculateTotal:()=>{e({subtotal:t().items.reduce((e,t)=>e+t.price*t.quantity,0)}),e({total:t().subtotal-t().discount})},addToCart:t=>e(e=>{let s=e.items.find(e=>e.id===t.id&&e.color===t.color&&e.size===t.size);return s?{items:e.items.map(e=>e===s?{...e,quantity:e.quantity+1}:e)}:{items:[...e.items,t]}}),removeFromCart:t=>e(e=>({items:e.items.filter(e=>!(e.id===t.id&&e.color===t.color&&e.size===t.size))})),updateQuantity:(t,s)=>e(e=>({items:e.items.map(e=>e.id===t.id&&e.color===t.color&&e.size===t.size?{...e,quantity:s}:e)})),clearCart:()=>e({items:[]}),getTotal:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0)}),{name:"cart-storage",getStorage:()=>localStorage}))},6584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,dynamic:()=>l});var a=s(9510),r=s(1984),n=s(8570);let i=(0,n.createProxy)(String.raw`C:\Users\Faia Facundo\Desktop\Programacion\ad-astra\tartaro\front_web\src\components\product\SingleProductClient.jsx#default`),o=(0,n.createProxy)(String.raw`C:\Users\Faia Facundo\Desktop\Programacion\ad-astra\tartaro\front_web\src\components\product\RelatedProducts.jsx#default`),l="force-dynamic";async function c({params:e}){let{data:t}=await (0,r.lA)("products",{filters:{id:{$eq:e.id}}});if(!t[0])return a.jsx("div",{children:"Product not found"});let{data:s}=await (0,r.lA)("products",{filters:{category:{name:{$eq:t[0].category.name}},id:{$ne:e.id}},pagination:{pageSize:8},populate:"*"});return(0,a.jsxs)("main",{className:"container mx-auto min-h-svh",children:[a.jsx(i,{product:t[0]}),a.jsx(o,{relatedProducts:s})]})}},7284:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(9510);function r(){return(0,a.jsxs)("div",{className:"container mx-auto py-12 px-6 md:px-8",children:[a.jsx("div",{className:"mb-6 animate-pulse",children:a.jsx("div",{className:"h-10 bg-muted rounded-md w-[200px]"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8",children:[...Array(8)].map((e,t)=>(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"aspect-square bg-muted rounded-md"}),a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]},t))})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,343,684,132,399,192,550],()=>s(84));module.exports=a})();