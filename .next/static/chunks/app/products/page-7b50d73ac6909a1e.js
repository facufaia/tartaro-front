(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{4654:function(){},6390:function(e,a,t){Promise.resolve().then(t.bind(t,7941)),Promise.resolve().then(t.bind(t,5065))},7941:function(e,a,t){"use strict";t.d(a,{default:function(){return v}});var r=t(7437),s=t(9376),n=t(632),i=t(2265),l=t(7991),o=t(875),c=t(2135),d=t(401),u=t(6474);let p=l.fC;l.ZA;let m=l.B4,f=i.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(l.xz,{ref:a,className:(0,u.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,(0,r.jsx)(l.JO,{asChild:!0,children:(0,r.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=l.xz.displayName;let h=i.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.u_,{ref:a,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})});h.displayName=l.u_.displayName;let g=i.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.$G,{ref:a,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})});g.displayName=l.$G.displayName;let x=i.forwardRef((e,a)=>{let{className:t,children:s,position:n="popper",...i}=e;return(0,r.jsx)(l.h_,{children:(0,r.jsxs)(l.VY,{ref:a,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,r.jsx)(h,{}),(0,r.jsx)(l.l_,{className:(0,u.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(g,{})]})})});x.displayName=l.VY.displayName,i.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.__,{ref:a,className:(0,u.cn)("px-2 py-1.5 text-sm font-semibold",t),...s})}).displayName=l.__.displayName;let j=i.forwardRef((e,a)=>{let{className:t,children:s,...n}=e;return(0,r.jsxs)(l.ck,{ref:a,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.wU,{children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(l.eT,{children:s})]})});j.displayName=l.ck.displayName,i.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(l.Z0,{ref:a,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=l.Z0.displayName;var y=t(4449),N=t(6830);function v(e){let{categories:a,atributes:t,initialFilters:i}=e,l=(0,s.useRouter)(),o=(0,n.a)(e=>e.filters),c=(0,n.a)(e=>e.setFilter),d=(0,n.a)(e=>e.fetchProducts),u=(e,a)=>{c(l,e,"null"===a?"":a),d()};return(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)(p,{value:o.category||"null",onValueChange:e=>u("category",e),children:[(0,r.jsx)(f,{className:"w-[180px] duration-200 ease-in-out transition-colors hover:border-primary outline-none focus-visible:ring-0 focus-within:border-muted",children:(0,r.jsx)(m,{placeholder:"Category"})}),(0,r.jsxs)(x,{className:"border-primary",children:[(0,r.jsx)(j,{value:"null",children:"All Categories"}),null==a?void 0:a.map(e=>(0,r.jsx)(j,{value:e.name,className:"specialHover",children:(0,N.f)(e.name)},e.id))]})]}),null==t?void 0:t.map(e=>(0,r.jsxs)(p,{value:o[e.name]||"null",onValueChange:a=>u(e.name,a),children:[(0,r.jsx)(f,{className:"w-[180px] duration-200 ease-in-out transition-colors hover:border-primary focus:ring-0 focus-within:border-primary",children:(0,r.jsx)(m,{placeholder:e.name.charAt(0).toUpperCase()+e.name.slice(1)})}),(0,r.jsxs)(x,{className:"border-primary",children:[(0,r.jsxs)(j,{value:"null",children:["All ",e.name,"s"]}),e.atributes_values.map(e=>(0,r.jsx)(j,{value:e.value,className:"specialHover",children:(0,N.f)(e.value)},e.id))]})]},e.id)),(0,r.jsx)(y.z,{variant:"outline",onClick:()=>{t.forEach(e=>{c(l,e.name,"")}),c(l,"category",""),d()},className:"hover:border-primary hover:text-primary hover:bg-transparent transition-colors duration-200",children:"Clear Filters"})]})})}},5065:function(e,a,t){"use strict";t.d(a,{default:function(){return j}});var r=t(7437),s=t(2265),n=t(5228),i=t(2451),l=t(407),o=(t(7782),t(6474)),c=t(4449);let d=e=>{let{className:a,...t}=e;return(0,r.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,o.cn)("mx-auto flex w-full justify-center",a),...t})};d.displayName="Pagination";let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("ul",{ref:a,className:(0,o.cn)("flex flex-row items-center gap-1",t),...s})});u.displayName="PaginationContent";let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("li",{ref:a,className:(0,o.cn)("",t),...s})});p.displayName="PaginationItem";let m=e=>{let{className:a,isActive:t,size:s="icon",...n}=e;return(0,r.jsx)("a",{"aria-current":t?"page":void 0,className:(0,o.cn)((0,c.d)({variant:t?"outline":"ghost",size:s}),a),...n})};m.displayName="PaginationLink";let f=e=>{let{className:a,...t}=e;return(0,r.jsxs)(m,{"aria-label":"Go to previous page",size:"default",className:(0,o.cn)("gap-1 pl-2.5",a),...t,children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Previous"})]})};f.displayName="PaginationPrevious";let h=e=>{let{className:a,...t}=e;return(0,r.jsxs)(m,{"aria-label":"Go to next page",size:"default",className:(0,o.cn)("gap-1 pr-2.5",a),...t,children:[(0,r.jsx)("span",{children:"Next"}),(0,r.jsx)(l.Z,{className:"h-4 w-4"})]})};function g(e){let{currentPage:a,totalPages:t,onPageChange:s}=e,n=Array.from({length:t},(e,a)=>a+1);return(0,r.jsx)(d,{className:"mt-8",children:(0,r.jsxs)(u,{children:[(0,r.jsx)(p,{children:(0,r.jsx)(f,{href:"#",onClick:e=>{e.preventDefault(),a>1&&s(a-1)},className:a<=1?"pointer-events-none opacity-50":""})}),n.map(e=>(0,r.jsx)(p,{children:(0,r.jsx)(m,{href:"#",onClick:a=>{a.preventDefault(),s(e)},isActive:a===e,children:e})},e)),(0,r.jsx)(p,{children:(0,r.jsx)(h,{href:"#",onClick:e=>{e.preventDefault(),a<t&&s(a+1)},className:a>=t?"pointer-events-none opacity-50":""})})]})})}h.displayName="PaginationNext";var x=t(632);function j(e){let{initialProducts:a}=e,t=(0,x.a)(e=>e.products),i=(0,x.a)(e=>e.meta),l=(0,x.a)(e=>e.setInitialState),o=(0,x.a)(e=>e.isLoading);(0,s.useEffect)(()=>{l(a)},[]);let c=t.length>0?t:a.data,d=i||a.meta;return o?(0,r.jsx)("div",{children:"Loading..."}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-8",children:c.map(e=>(0,r.jsx)(n.Z,{product:e},e.id))}),d&&(0,r.jsx)(g,{pageCount:d.pagination.pageCount,currentPage:d.pagination.page,pageSize:d.pagination.pageSize,total:d.pagination.total})]})}},632:function(e,a,t){"use strict";t.d(a,{a:function(){return u}});var r=t(3011),s=t(6885),n=t(2615);if(!n.Ml||!n.pG)throw Error("Missing Strapi environment variables");async function i(e){try{let a=await fetch("".concat(n.Ml,"/api/").concat(e),{headers:{Authorization:"Bearer ".concat(n.pG)},cache:"no-store"});if(!a.ok)throw Error("Strapi API error: ".concat(a.status," /api/").concat(e));return await a.json()}catch(e){throw console.error("Strapi query error:",e),e}}var l=t(4927),o=t.n(l);let c=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{filters:t,pagination:r,sort:s,populate:n="*"}=a,l={populate:n,...r&&{pagination:r},...t&&{filters:t},...s&&{sort:s}},c=o().stringify(l,{encodeValuesOnly:!0});return console.log("LLAMADO A LA API \n  STRING: ".concat(e,"?").concat(c)),i("".concat(e,"?").concat(c))},d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={populate:"*",pagination:{page:parseInt(e.page||1),pageSize:parseInt(e.pageSize||12)},filters:{}};return e.category&&(a.filters.category={name:{$eq:e.category}}),e.color&&(a.filters.colors={$contains:e.color}),e.size&&(a.filters.sizes={$contains:e.size}),c("products",a)},u=(0,r.U)((0,s.tJ)((e,a)=>({products:[],meta:null,filters:{},sorting:"asc",isLoading:!1,error:null,syncWithURL:(e,t)=>{let r=new URLSearchParams;Object.entries(t).forEach(e=>{let[a,t]=e;t&&r.set(a,t)}),"asc"!==a().sorting&&r.set("sort",a().sorting),e.push("?".concat(r.toString()),{scroll:!1})},setInitialState:a=>{e({products:a.data,meta:a.meta})},setFilter:(t,r,s)=>{let n={...a().filters,[r]:s};e({filters:n}),a().syncWithURL(t,n)},fetchProducts:async()=>{e({isLoading:!0});try{let t=await d({...a().filters,sort:a().sorting});e({products:t.data,meta:t.meta,isLoading:!1})}catch(a){e({error:a.message,isLoading:!1})}}}),{name:"product-store",partialize:e=>({filters:e.filters,sorting:e.sorting})}))}},function(e){e.O(0,[969,648,165,208,863,725,710,228,971,117,744],function(){return e(e.s=6390)}),_N_E=e.O()}]);